<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prof. Antonio Adinolfi - Portale OWL Avanzato</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@odoo/owl@2.0.0/dist/owl.lib.js"></script>
    <style>
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .text-gradient { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="app"></div>

    <script>
        window.onload = function() {
            const { Component, mount, xml, useState } = owl;

            // --- COMPONENTE: LOGIN ---
            class Login extends Component {
                static template = xml`
                    <div class="max-w-md mx-auto mt-20 p-8 glass rounded-3xl shadow-xl border border-slate-200">
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-4">
                                <i class="fas fa-lock text-2xl"></i>
                            </div>
                            <h2 class="text-2xl font-bold">Area Riservata Docente</h2>
                            <p class="text-slate-500 text-sm">Inserisci la password per accedere alla dashboard.</p>
                        </div>
                        <form t-on-submit.prevent="checkPassword" class="space-y-4">
                            <input type="password" t-model="state.password" placeholder="Password" 
                                   class="w-full px-4 py-3 border rounded-xl outline-none focus:ring-2 focus:ring-blue-500"/>
                            <button type="submit" class="w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition">
                                Accedi
                            </button>
                            <p t-if="state.error" class="text-red-500 text-xs text-center font-bold">Password errata!</p>
                        </form>
                    </div>
                `;
                setup() {
                    this.state = useState({ password: "", error: false });
                }
                checkPassword() {
                    if (this.state.password === "docente2026") {
                        this.props.onLogin();
                    } else {
                        this.state.error = true;
                        this.state.password = "";
                    }
                }
            }

            // --- COMPONENTE: PRIVATE DASHBOARD ---
            class Dashboard extends Component {
                static template = xml`
                    <section class="py-10">
                        <div class="flex justify-between items-center mb-10">
                            <h2 class="text-3xl font-black">Benvenuto, Prof. Adinolfi</h2>
                            <button t-on-click="props.onLogout" class="text-sm font-bold text-red-500 hover:underline">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </button>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-12">
                            <div class="glass p-6 rounded-3xl border border-slate-200">
                                <h3 class="font-bold mb-4 text-blue-600"><i class="fas fa-chart-line mr-2"></i>Andamento Classi</h3>
                                <div class="space-y-4">
                                    <div t-foreach="stats" t-as="s" t-key="s.classe" class="flex justify-between items-center">
                                        <span class="text-sm font-medium" t-esc="s.classe"/>
                                        <div class="flex items-center space-x-2">
                                            <div class="w-32 h-2 bg-slate-100 rounded-full overflow-hidden">
                                                <div class="h-full bg-blue-500" t-attf-style="width: {{s.media * 10}}%"/>
                                            </div>
                                            <span class="text-xs font-bold" t-esc="s.media"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="glass p-6 rounded-3xl border border-slate-200">
                                <h3 class="font-bold mb-4 text-orange-600"><i class="fas fa-calendar-check mr-2"></i>Prossime Verifiche</h3>
                                <ul class="space-y-3">
                                    <li t-foreach="deadlines" t-as="d" t-key="d.data" class="flex items-center p-3 bg-white rounded-xl border border-slate-100">
                                        <div class="w-10 h-10 bg-orange-50 text-orange-600 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fas fa-edit text-sm"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-bold" t-esc="d.classe"/>
                                            <p class="text-[10px] text-slate-400 font-bold uppercase" t-esc="d.argomento"/>
                                        </div>
                                        <span class="ml-auto text-[10px] font-black text-slate-400" t-esc="d.data"/>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </section>
                `;
                setup() {
                    this.stats = [
                        { classe: "1A", media: 7.2 }, { classe: "3B", media: 6.8 }, { classe: "5A", media: 7.9 }
                    ];
                    this.deadlines = [
                        { classe: "5A", argomento: "Sistemi Operativi", data: "15 Gen" },
                        { classe: "3B", argomento: "Array e Funzioni", data: "18 Gen" }
                    ];
                }
            }

            // --- COMPONENTE ROOT ---
            class Main extends Component {
                static components = { Login, Dashboard };
                static template = xml`
                    <div class="min-h-screen">
                        <nav class="fixed w-full top-0 z-50 glass border-b border-slate-200">
                            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                                <div class="flex items-center space-x-3">
                                    <div class="bg-blue-600 text-white p-2 rounded-lg"><i class="fas fa-code text-xs"></i></div>
                                    <div>
                                        <h1 class="font-bold text-slate-800 leading-none">Prof. Antonio Adinolfi</h1>
                                        <p class="text-[10px] text-blue-600 font-black uppercase tracking-widest">Informatica • Liceo N. Cortese</p>
                                    </div>
                                </div>
                                <button t-on-click="toggleView" class="text-xs font-black uppercase tracking-widest text-slate-500 hover:text-blue-600">
                                    <t t-if="state.view === 'public'">Area Docente</t>
                                    <t t-else="">Sito Pubblico</t>
                                </button>
                            </div>
                        </nav>

                        <main class="pt-32 container mx-auto px-6">
                            <t t-if="state.view === 'public'">
                                <div class="text-center py-20">
                                    <h2 class="text-6xl font-black text-slate-900 mb-6 leading-none">Insegno il <span class="text-gradient">Futuro.</span></h2>
                                    <p class="text-lg text-slate-500 max-w-xl mx-auto mb-10">
                                        Benvenuti nel portale didattico del Prof. Antonio Adinolfi, docente presso il 
                                        <strong>Liceo Scientifico "N. Cortese"</strong> di Maddaloni.
                                    </p>
                                    <div class="grid md:grid-cols-3 gap-6 text-left">
                                        <div class="p-8 bg-white border border-slate-100 rounded-[40px] shadow-sm">
                                            <i class="fas fa-map-marker-alt text-blue-500 mb-4"></i>
                                            <h4 class="font-bold">Sede</h4>
                                            <p class="text-sm text-slate-400">Via Starza, 24 - Maddaloni</p>
                                        </div>
                                        <div class="p-8 bg-white border border-slate-100 rounded-[40px] shadow-sm">
                                            <i class="fas fa-clock text-blue-500 mb-4"></i>
                                            <h4 class="font-bold">Ricevimento</h4>
                                            <p class="text-sm text-slate-400">Mercoledì: 10:00 - 11:00</p>
                                        </div>
                                        <div class="p-8 bg-white border border-slate-100 rounded-[40px] shadow-sm">
                                            <i class="fas fa-user-tie text-blue-500 mb-4"></i>
                                            <h4 class="font-bold">Esperienza</h4>
                                            <p class="text-sm text-slate-400">Oltre 15 anni di docenza</p>
                                        </div>
                                    </div>
                                </div>
                            </t>

                            <t t-else="">
                                <t t-if="!state.isLoggedIn">
                                    <Login onLogin="() => this.handleLogin()"/>
                                </t>
                                <t t-else="">
                                    <Dashboard onLogout="() => this.handleLogout()"/>
                                </t>
                            </t>
                        </main>
                        
                        <footer class="py-12 text-center text-[10px] font-bold text-slate-300 uppercase tracking-widest">
                            © 2026 Antonio Adinolfi • Liceo Scientifico Statale "N. Cortese"
                        </footer>
                    </div>
                `;
                setup() {
                    this.state = useState({ view: "public", isLoggedIn: false });
                }
                toggleView() {
                    this.state.view = this.state.view === "public" ? "private" : "public";
                }
                handleLogin() {
                    this.state.isLoggedIn = true;
                }
                handleLogout() {
                    this.state.isLoggedIn = false;
                    this.state.view = "public";
                }
            }

            mount(Main, document.getElementById("app"));
        };
    </script>
</body>
</html>